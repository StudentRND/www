{% extends "template.twig" %}
{% block section %}home{% endblock %}
{% block page %}index{% endblock %}
{% block hero %}
    <section class="hero">
        <article>
            <section class="info">
                <span class="lead">Coding shows students they can change the world, but</span>
                <span class="primary">Most students still don't want to learn to code.</span>
                <span class="mission">Since 2009, we've inspired tens of thousands of students to give coding a try,
                                      with a focus on women and minorities. We run programs in 40 cities nationwide.</span>
            </section>
        </article>
    </section>
    <a class="donate" href="/donate">
        We are funded by donations, and spend $36 per participant to bring tech education to your city.
        <span class="link">Please donate now.</span>
    </a>
{% endblock %}
{% block content %}
    <section class="impact">
        <header>
            <h2>CodeDay: Sparking interest in the students who need it.</h2>
            <p>Our model is proven to get girls, minorities, and students from low-income backgrounds to start coding
               and stay interested.</p>
        </header>

        <div class="video">
                    <iframe src="//fast.wistia.net/embed/iframe/r4avh9mp2g?videoFoam=true" allowtransparency="true" frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" id="splash-video" allowfullscreen mozallowfullscreen webkitallowfullscreen oallowfullscreen msallowfullscreen width="640" height="360"></iframe>
                    <script src="//fast.wistia.net/assets/external/iframe-api-v1.js"></script>
        </div>

        <div class="details">
            <p><span>CodeDay gives students the chance to work on a project which excites
               them individually,</span> attracting students who don't normally identify as "coders":</p>
            <ul class="diversity">
                <li><span class="pie">43,57</span>43% girls</li>
                <li><span class="pie">38,62</span>38% low-income</li>
                <li><span class="pie">28,72</span>28% minorities</li>
            </ul>
            <p>Beginner attendees report sustained changes in our 2.5mo follow-up:</p>
             <ul class="outcomes">
                <li><span class="pie">80,20</span>80% still coding</li>
                <li><span class="pie">74,26</span>74% attend other events</li>
            </ul>
           <p>We've run CodeDay since 2011. Early attendees are now working at Google, Microsoft, Y Combinator, Splunk,
              etc. Learn more at <a href="https://codeday.org/">codeday.org.</a></p>


        </div>
    </section>


    <section class="featured">
        <h2>38 Cities Nationwide</h2>
        <div class="map"></div>
        <h2>You may have heard about us in:</h2>
        <ul>
            <li class="npr"><a href="http://blogs.kqed.org/mindshift/2012/04/watch-out-silicon-valley-here-come-the-tinkering-teens/">NPR</a></li>
            <li class="all-things-considered"><a href="http://www.npr.org/blogs/alltechconsidered/2014/01/25/266162832/computers-are-the-future-but-does-everyone-need-to-code">All Things Considered</a></li>
            <li class="univision"><a href="http://www.kunstv.com/noticias/video/Un-chico-con-buenas-ideas-para-los-demas-jovenes-304649881.html">Univision</a></li>
            <li class="techcrunch"><a href="http://techcrunch.com/2013/01/18/the-weekly-good-the-problems-of-today-will-be-solved-by-the-minds-of-tomorrow/">TechCrunch</a></li>
            <li class="readwrite"><a href="http://readwrite.com/2013/10/18/kids-learn-code-programming">Readwrite</a></li>
            <li class="king5"><a href="http://www.king5.com/news/Students-in-code-heaven-at-Code-Day-193177871.html">King5</a></li>
        </ul>
    </section>


    <section class="quote">
        <blockquote>
            <p>The Salinas Valley is known as the “Salad Bowl Capital of the World” due to its amazing agricultural community. Unfortunately, it is also known as one of the 13 most dangerous cities in California due to the level of gang violence. My goal as an administrator of Migrant Education Region 16 is to expose my students to the vast opportunities that exist outside of our valley.</p>
            <p>CodeDay provided our students with a first stepping-stone into the world of &ldquo;coders&rdquo;. Students entered their first CodeDay with no knowledge of what to expect. They were welcomed with open arms, provided with mentors, taught basic coding skills, and began to see themselves as capable of being part of this &ldquo;world.&rdquo;</p>
            <p>My students are now confident, not just as future &ldquo;coders,&rdquo; but as future participants in the careers that STEM has to offer!</p>
        </blockquote>
        <div class="attr">
            <span class="name">Summer Prather-Smith</span>
            <span class="title">Director of Migrant Education Region XVI</span>
            <span class="org">Monterey County Office of Education</span>
        </div>
    </section>
{% endblock %}
{% block scripts %}
    <script src="/assets/js/jquery.sparkline.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function(){
            $('.pie').sparkline('html', {type: "pie", sliceColors: ['#3F97CC', '#DFDFDF'], offset: -90});
        });
    </script>
    <script type="text/javascript">
        (function(){
            var previous_width = null;
            var redraw_map = function(){
                var path = d3.geo.path();

                if ($('.map').width() === previous_width) {
                    {# Window width hasn't changed, no need to redraw #}
                    return;
                } else {
                    previous_width = $('.map').width();
                }

                var map = $('.map').html('<svg></svg>');
                var width = map.width();
                var height = map.width() * 0.6;

                var projection = d3.geo.albersUsa()
                        .scale((width * 1.2))
                        .translate([width / 2, height / 2]);

                var path = d3.geo.path()
                        .projection(projection);

                var svg = d3.select(".map svg")
                        .attr("width", width)
                        .attr("height", height);

                d3.json("/assets/topo/us.json", function(error, us) {
                    svg.insert("path", ".graticule")
                            .datum(topojson.feature(us, us.objects.land))
                            .attr("class", "land")
                            .attr("d", path);

                    svg.insert("clipPath")
                            .attr("id", "landclip")
                            .append("path", ".graticule")
                            .datum(topojson.feature(us, us.objects.land))
                            .attr("d", path);


                    svg.insert("path", ".graticule")
                            .datum(topojson.mesh(us, us.objects.states, function(a, b) { return a !== b; }))
                            .attr("class", "state-boundary")
                            .attr("d", path);

                    var regions = {% include "parts/regions.twig" %};

                    svg.selectAll("circle.footprint")
                            .data(regions)
                            .enter()
                            .append("circle")
                            .attr("cx", function(d) { return projection([d.lng, d.lat])[0]; })
                            .attr("cy", function(d) { return projection([d.lng, d.lat])[1]; })
                            .attr("r", Math.min(49, (width/12.5)))
                            .attr("clip-path", "url(#landclip)")
                            .attr("class", "footprint");

                    svg.selectAll("circle.outline")
                            .data(regions)
                            .enter()
                            .append("circle")
                            .attr("cx", function(d) { return projection([d.lng, d.lat])[0]; })
                            .attr("cy", function(d) { return projection([d.lng, d.lat])[1]; })
                            .attr("r", Math.min(21, (width/10)))
                            .attr("clip-path", "url(#landclip)")
                            .attr("class", "outline");

                    svg.selectAll("circle.city")
                            .data(regions)
                            .enter()
                            .append("circle")
                            .attr("cx", function(d) { return projection([d.lng, d.lat])[0]; })
                            .attr("cy", function(d) { return projection([d.lng, d.lat])[1]; })
                            .attr("r", Math.min(7, (width/100)))
                            .attr("class", "city");
                });

                d3.select(self.frameElement).style("height", height + "px");
            };

            redraw_map();
            $(window).on('resize', redraw_map);
        })();
    </script>
{% endblock %}
